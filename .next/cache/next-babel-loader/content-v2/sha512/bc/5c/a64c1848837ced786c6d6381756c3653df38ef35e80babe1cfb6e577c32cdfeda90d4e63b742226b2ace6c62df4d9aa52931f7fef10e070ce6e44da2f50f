{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/Usuario/Desktop/EngSoftTP/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/Usuario/Desktop/EngSoftTP/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport axios from \"axios\";\nvar baseUrl = \"https://engsoft-clinica.vercel.app/api\";\n\nvar get = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(address) {\n    var params,\n        query,\n        key,\n        _args = arguments;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            params = _args.length > 1 && _args[1] !== undefined ? _args[1] : null;\n            query = \"?\";\n\n            for (key in params) {\n              query += \"\".concat(key, \"=\").concat(params[key], \"&\");\n            }\n\n            query = query.slice(0, -1);\n            return _context.abrupt(\"return\", axios.get(\"\".concat(baseUrl, \"/\").concat(address).concat(query)).then(function (res) {\n              return res ? res.data : null;\n            }));\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function get(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar post = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(address, data) {\n    var url;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            url = \"\".concat(baseUrl, \"/\").concat(address, \"/insert\");\n            console.log(\"url\");\n            axios.post(url, data).then(function (response) {\n              console.log(response);\n            })[\"catch\"](function (error) {\n              console.error(error);\n            });\n\n          case 3:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function post(_x2, _x3) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar login = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(email, password) {\n    var url, response;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            url = \"/sessions\";\n            _context3.next = 4;\n            return axios.post(\"\".concat(baseUrl).concat(url), {\n              email: email,\n              password: password\n            });\n\n          case 4:\n            response = _context3.sent;\n            console.log(\"RESPONSE\");\n            console.log(response);\n\n            if (!(response.status === 201)) {\n              _context3.next = 9;\n              break;\n            }\n\n            return _context3.abrupt(\"return\", {\n              status: true,\n              message: \"\"\n            });\n\n          case 9:\n            return _context3.abrupt(\"return\", {\n              status: false,\n              message: response.data\n            });\n\n          case 12:\n            _context3.prev = 12;\n            _context3.t0 = _context3[\"catch\"](0);\n            console.log(_context3.t0.response);\n            console.log(_context3.t0.request);\n            console.log(\"LOGIN ERROR\");\n            console.log(_context3.t0);\n            return _context3.abrupt(\"return\", {\n              status: false,\n              message: \"Senha incorreta\"\n            });\n\n          case 19:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3, null, [[0, 12]]);\n  }));\n\n  return function login(_x4, _x5) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nexport { baseUrl, get, post, login };","map":{"version":3,"sources":["C:/Users/Usuario/Desktop/EngSoftTP/src/api-front/index.js"],"names":["axios","baseUrl","get","address","params","query","key","slice","then","res","data","post","url","console","log","response","error","login","email","password","status","message","request"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,IAAMC,OAAO,GAAG,wCAAhB;;AAEA,IAAMC,GAAG;AAAA,sEAAG,iBAAOC,OAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgBC,YAAAA,MAAhB,2DAAyB,IAAzB;AACJC,YAAAA,KADI,GACI,GADJ;;AAER,iBAAWC,GAAX,IAAkBF,MAAlB,EAA0B;AACtBC,cAAAA,KAAK,cAAOC,GAAP,cAAcF,MAAM,CAACE,GAAD,CAApB,MAAL;AACH;;AAEDD,YAAAA,KAAK,GAAGA,KAAK,CAACE,KAAN,CAAY,CAAZ,EAAe,CAAC,CAAhB,CAAR;AANQ,6CAQDP,KAAK,CAACE,GAAN,WAAaD,OAAb,cAAwBE,OAAxB,SAAkCE,KAAlC,GAA2CG,IAA3C,CAAgD,UAACC,GAAD,EAAS;AAC5D,qBAAOA,GAAG,GAAGA,GAAG,CAACC,IAAP,GAAc,IAAxB;AACH,aAFM,CARC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAHR,GAAG;AAAA;AAAA;AAAA,GAAT;;AAaA,IAAMS,IAAI;AAAA,uEAAG,kBAAOR,OAAP,EAAgBO,IAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AACHE,YAAAA,GADG,aACMX,OADN,cACiBE,OADjB;AAETU,YAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AACAd,YAAAA,KAAK,CACAW,IADL,CACUC,GADV,EACeF,IADf,EAEKF,IAFL,CAEU,UAAUO,QAAV,EAAoB;AACtBF,cAAAA,OAAO,CAACC,GAAR,CAAYC,QAAZ;AACH,aAJL,WAKW,UAAUC,KAAV,EAAiB;AACpBH,cAAAA,OAAO,CAACG,KAAR,CAAcA,KAAd;AACH,aAPL;;AAHS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAJL,IAAI;AAAA;AAAA;AAAA,GAAV;;AAaA,IAAMM,KAAK;AAAA,uEAAG,kBAAOC,KAAP,EAAcC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEAP,YAAAA,GAFA,GAEM,WAFN;AAAA;AAAA,mBAGeZ,KAAK,CAACW,IAAN,WAAcV,OAAd,SAAwBW,GAAxB,GAA+B;AAChDM,cAAAA,KAAK,EAALA,KADgD;AAEhDC,cAAAA,QAAQ,EAARA;AAFgD,aAA/B,CAHf;;AAAA;AAGFJ,YAAAA,QAHE;AAQNF,YAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACAD,YAAAA,OAAO,CAACC,GAAR,CAAYC,QAAZ;;AATM,kBAUFA,QAAQ,CAACK,MAAT,KAAoB,GAVlB;AAAA;AAAA;AAAA;;AAAA,8CAWK;AACHA,cAAAA,MAAM,EAAE,IADL;AAEHC,cAAAA,OAAO,EAAE;AAFN,aAXL;;AAAA;AAAA,8CAgBC;AACHD,cAAAA,MAAM,EAAE,KADL;AAEHC,cAAAA,OAAO,EAAEN,QAAQ,CAACL;AAFf,aAhBD;;AAAA;AAAA;AAAA;AAqBNG,YAAAA,OAAO,CAACC,GAAR,CAAY,aAAGC,QAAf;AACAF,YAAAA,OAAO,CAACC,GAAR,CAAY,aAAGQ,OAAf;AACAT,YAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACAD,YAAAA,OAAO,CAACC,GAAR;AAxBM,8CAyBC;AACHM,cAAAA,MAAM,EAAE,KADL;AAEHC,cAAAA,OAAO,EAAE;AAFN,aAzBD;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAALJ,KAAK;AAAA;AAAA;AAAA,GAAX;;AAgCA,SAAShB,OAAT,EAAkBC,GAAlB,EAAuBS,IAAvB,EAA6BM,KAA7B","sourcesContent":["import axios from \"axios\";\r\n\r\nconst baseUrl = \"https://engsoft-clinica.vercel.app/api\";\r\n\r\nconst get = async (address, params = null) => {\r\n    let query = \"?\";\r\n    for (const key in params) {\r\n        query += `${key}=${params[key]}&`;\r\n    }\r\n\r\n    query = query.slice(0, -1);\r\n\r\n    return axios.get(`${baseUrl}/${address}${query}`).then((res) => {\r\n        return res ? res.data : null;\r\n    });\r\n};\r\n\r\nconst post = async (address, data) => {\r\n    const url = `${baseUrl}/${address}/insert`;\r\n    console.log(\"url\");\r\n    axios\r\n        .post(url, data)\r\n        .then(function (response) {\r\n            console.log(response);\r\n        })\r\n        .catch(function (error) {\r\n            console.error(error);\r\n        });\r\n};\r\n\r\nconst login = async (email, password) => {\r\n    try {\r\n        const url = \"/sessions\";\r\n        let response = await axios.post(`${baseUrl}${url}`, {\r\n            email,\r\n            password,\r\n        });\r\n\r\n        console.log(\"RESPONSE\");\r\n        console.log(response);\r\n        if (response.status === 201) {\r\n            return {\r\n                status: true,\r\n                message: \"\",\r\n            };\r\n        }\r\n        return {\r\n            status: false,\r\n            message: response.data,\r\n        };\r\n    } catch (ex) {\r\n        console.log(ex.response);\r\n        console.log(ex.request);\r\n        console.log(\"LOGIN ERROR\");\r\n        console.log(ex);\r\n        return {\r\n            status: false,\r\n            message: \"Senha incorreta\",\r\n        };\r\n    }\r\n};\r\n\r\nexport { baseUrl, get, post, login };\r\n"]},"metadata":{},"sourceType":"module"}